# FacebookLearner
Some recurrent network that operates on a character by character basis and tries to learn to emulate a sequence of
messages. The main target for this project is to emulate Facebook Messenger group chats that have been downloaded
using my FacebookDumper repository, but could easily be adapted to anything else of a similar nature.

## Requirements
+ PyTorch
+ NumPy
+ Python 3.5 or above (not sure about compatibility)

## How to use
1. If using Facebook, run the facebook_dumper.py file after filling out your session information into
    the variables at the top, found using a network log or Developer Tools or similar.
2. Run `message_parser.py`, changing the path at the top of the file to point to the folder generated by
    `facebook_dumper.py`. This will output a file `messages.json` that will conform to the required format.
3. Run `train.py`, adjusting the number of batches and message sequence length to train on to conform to your computer's
    capabilities. I don't have access to AWS or similar powerful computers so the builtin settings are very modest.
4. Once trained, `optimizer.dat` and `net.dat` will contain the trained network's weights and biases.
5. Run `chat.py`, which will open a really shitty TKinter UI so you can try (meaninglessly) to talk to the network.
    Alternatively, use the console and run MessageNet::sample_author() and let the network go off on its own tangent.

### Input
The program expects `messages.json` to be a file that conforms to the following spec.
+ `letters` is a string containing all characters present within messages (to build the input vector to the network)
+ `authors` is an array containing a unique identifier (`email`) and a human friendly name for each group chat participant,
+ `messages` is an array containing message objects.
+ Each message object contains an `author`, which must be present in `authors`, and also a `message`,
     which can only be    comprised of characters in `letters`. 
```json
{
  "letters": "abcdefghijklmnopqrstuvwxyz0123456789 ",
  "authors": [
    {"email": "some@unique.string", "name": "alice"},
    {"email": "bobisthebest@gmail.com", "name": "bob"}
  ],
  "messages": [
    {
      "email": "some@unique.string",
      "message": "Hi bob here s my public key"
    },
    {
      "email": "bobisthebest@gmail.com",
      "message": "fuck you alice im sick of your shit"
    },
    {
      "email": "some@unique.string",
      "message": "REEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE"
    }
  ]
}
```

## Output
The following is output from a very large Facebook chat I trained on, with a short sequence length on a bad GPU. It
basically disregards previous message context, but mannerisms of each person (anonymized) are captured fairly well.
Chat participation rates are also fairly faithfully reflected.
!(Sample Output)[http://i.imgur.com/jWxrJ9f.png]
